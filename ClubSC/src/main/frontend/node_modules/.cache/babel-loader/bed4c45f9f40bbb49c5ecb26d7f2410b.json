{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cdrlao/Desktop/ClubSC/ClubSC/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cdrlao/Desktop/ClubSC/ClubSC/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cdrlao/Desktop/ClubSC/ClubSC/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import axios from'axios';import ResultsPage from'./ResultsPage';import Route from'../components/Route';import ContainerView from'../components/ContainerView';import SearchBar from'../components/SearchBar';var LandingPage=function LandingPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),term=_useState2[0],setTerm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),results=_useState4[0],setResults=_useState4[1];useEffect(function(){var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"localhost:8080/app/clubsearch\",{},{params:{key:term}});case 2:data=_context.sent;console.log(data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function search(){return _ref.apply(this,arguments);};}();search();},[term]);var queryResults=function queryResults(event){event.preventDefault();window.history.pushState({},'','/search');var navEvent=new PopStateEvent('popstate');window.dispatchEvent(navEvent);};return/*#__PURE__*/_jsx(ContainerView,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex flex-row justify-content-center\",children:/*#__PURE__*/_jsx(\"img\",{className:\"my-5\",width:\"225px\",height:\"150px\",src:\"clubsc_big.png\"})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:queryResults,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex flex-column align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-8\",children:[/*#__PURE__*/_jsx(SearchBar,{term:term,onTermChange:setTerm}),/*#__PURE__*/_jsx(Route,{path:\"/search\",children:/*#__PURE__*/_jsx(ResultsPage,{results:results})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light mt-5\",type:\"submit\",children:\"Search Clubs\"})]})})]})});};export default LandingPage;","map":{"version":3,"sources":["/Users/cdrlao/Desktop/ClubSC/ClubSC/src/main/frontend/src/pages/LandingPage.js"],"names":["React","useState","useEffect","axios","ResultsPage","Route","ContainerView","SearchBar","LandingPage","term","setTerm","results","setResults","search","post","params","key","data","console","log","queryResults","event","preventDefault","window","history","pushState","navEvent","PopStateEvent","dispatchEvent"],"mappings":"ylBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eACAP,QAAQ,CAAC,EAAD,CADR,wCACjBQ,IADiB,eACXC,OADW,8BAEMT,QAAQ,CAAC,EAAD,CAFd,yCAEjBU,OAFiB,eAERC,UAFQ,eAIxBV,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,MAAM,0FAAG,kKACMV,CAAAA,KAAK,CAACW,IAAN,CAAW,+BAAX,CAA4C,EAA5C,CAAgD,CACjEC,MAAM,CAAE,CACNC,GAAG,CAAEP,IADC,CADyD,CAAhD,CADN,QACPQ,IADO,eAObC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAPa,sDAAH,kBAANJ,CAAAA,MAAM,0CAAZ,CAUAA,MAAM,GACP,CAZQ,CAYN,CAACJ,IAAD,CAZM,CAAT,CAcA,GAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BA,KAAK,CAACC,cAAN,GACAC,MAAM,CAACC,OAAP,CAAeC,SAAf,CAAyB,EAAzB,CAA6B,EAA7B,CAAiC,SAAjC,EAEA,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,aAAJ,CAAkB,UAAlB,CAAjB,CACAJ,MAAM,CAACK,aAAP,CAAqBF,QAArB,EACD,CAND,CAQA,mBACE,KAAC,aAAD,wBACE,aAAK,SAAS,CAAC,WAAf,wBACE,YAAK,SAAS,CAAC,4CAAf,uBACE,YAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAC,OAA5B,CAAoC,MAAM,CAAC,OAA3C,CAAmD,GAAG,CAAC,gBAAvD,EADF,EADF,cAIE,aAAM,QAAQ,CAAEN,YAAhB,uBACE,aAAK,SAAS,CAAC,2CAAf,wBACE,aAAK,SAAS,CAAC,OAAf,wBACE,KAAC,SAAD,EAAW,IAAI,CAAEX,IAAjB,CAAuB,YAAY,CAAEC,OAArC,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACE,KAAC,WAAD,EAAa,OAAO,CAAEC,OAAtB,EADF,EAFF,GADF,cAOE,eAAQ,SAAS,CAAC,oBAAlB,CAAuC,IAAI,CAAC,QAA5C,0BAPF,GADF,EAJF,GADF,EADF,CAoBD,CA9CD,CAgDA,cAAeH,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ResultsPage from './ResultsPage';\nimport Route from '../components/Route';\nimport ContainerView from '../components/ContainerView';\nimport SearchBar from '../components/SearchBar';\n\nconst LandingPage = () => {\n  const [term, setTerm] = useState('');\n  const [results, setResults] = useState([]);\n\n  useEffect(() => {\n    const search = async () => {\n      const data = await axios.post(\"localhost:8080/app/clubsearch\", {}, {\n        params: {\n          key: term\n        }\n      });\n\n      console.log(data);\n    }\n\n    search();\n  }, [term]);\n\n  const queryResults = (event) => {\n    event.preventDefault();\n    window.history.pushState({}, '', '/search');\n\n    const navEvent = new PopStateEvent('popstate');\n    window.dispatchEvent(navEvent);\n  };\n\n  return (\n    <ContainerView>\n      <div className=\"container\">\n        <div className=\"row d-flex flex-row justify-content-center\">\n          <img className=\"my-5\" width=\"225px\" height=\"150px\" src=\"clubsc_big.png\" />\n        </div>\n        <form onSubmit={queryResults}>\n          <div className=\"row d-flex flex-column align-items-center\">\n            <div className=\"col-8\">\n              <SearchBar term={term} onTermChange={setTerm}/>\n              <Route path=\"/search\">\n                <ResultsPage results={results}/>\n              </Route>\n            </div>\n            <button className=\"btn btn-light mt-5\" type=\"submit\">Search Clubs</button>\n          </div>\n        </form>\n      </div>\n    </ContainerView>\n  );\n};\n\nexport default LandingPage;\n"]},"metadata":{},"sourceType":"module"}