{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cdrlao/Desktop/ClubSC/ClubSC/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/cdrlao/Desktop/ClubSC/ClubSC/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/cdrlao/Desktop/ClubSC/ClubSC/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import'../stylesheets/master.css';import'../stylesheets/ContainerView.css';import React,{useState,useEffect}from'react';import axios from'axios';import ResultsPage from'../pages/ResultsPage';import Route from'./Route';import SearchBar from'./SearchBar';import Link from'./Link';var Navbar=function Navbar(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),term=_useState2[0],setTerm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),results=_useState4[0],setResults=_useState4[1];useEffect(function(){var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"http://localhost:8080/app/clubsearch\",{key:term});case 2:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setResults(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function search(){return _ref.apply(this,arguments);};}();search();},[term]);var queryResults=function queryResults(event){event.preventDefault();window.history.pushState({},'','/search');var navEvent=new PopStateEvent('popstate');window.dispatchEvent(navEvent);};var populateNavLeft=function populateNavLeft(search,logoOnly){var logoLink=props.user?'/userdash':'/';if(logoOnly){return/*#__PURE__*/_jsx(\"div\",{className:\"navbar-nav\",children:/*#__PURE__*/_jsx(Link,{className:\"navbar-brand ml-2\",href:logoLink,children:/*#__PURE__*/_jsx(\"img\",{src:\"clubsc_mini.png\",width:\"72px\",height:\"40px\",alt:\"\"})})});}if(!search){return/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav\",children:[/*#__PURE__*/_jsx(Link,{className:\"nav-item nav-link\",href:\"/\",children:\"About\"}),/*#__PURE__*/_jsx(Link,{className:\"nav-item nav-link\",href:\"/\",children:\"Dev Team\"})]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-nav\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand ml-2\",href:logoLink,children:/*#__PURE__*/_jsx(\"img\",{src:\"clubsc_mini.png\",width:\"72px\",height:\"40px\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-inline d-flex\",onSubmit:queryResults,children:[/*#__PURE__*/_jsx(SearchBar,{width:\"50vw\",button:true,term:term,onTermChange:setTerm}),/*#__PURE__*/_jsx(Route,{path:\"/search\",children:/*#__PURE__*/_jsx(ResultsPage,{results:results})})]})]});}};var populateNavRight=function populateNavRight(user,logoOnly){if(logoOnly){return;}if(!user){return/*#__PURE__*/_jsx(\"form\",{className:\"form-inline ml-auto\",children:/*#__PURE__*/_jsxs(Link,{className:\"btn btn-outline-primary\",href:\"/login\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"hide-mobile\",children:\"Sign In\"}),/*#__PURE__*/_jsx(\"span\",{className:\"show-mobile\",children:/*#__PURE__*/_jsx(\"svg\",{width:\"1em\",height:\"1em\",viewBox:\"0 0 16 16\",className:\"bi bi-person-fill\",fill:\"currentColor\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"})})})]})});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"navbar-nav ml-auto\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-item nav-link align-items-center\",href:\"/user\",children:user})});}};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar sticky-top navbar-expand navbar-light bg-light\",children:[populateNavLeft(props.search,props.logoOnly),populateNavRight(props.user,props.logoOnly)]});};export default Navbar;","map":{"version":3,"sources":["/Users/cdrlao/Desktop/ClubSC/ClubSC/src/main/frontend/src/components/Navbar.js"],"names":["React","useState","useEffect","axios","ResultsPage","Route","SearchBar","Link","Navbar","props","term","setTerm","results","setResults","search","post","key","data","queryResults","event","preventDefault","window","history","pushState","navEvent","PopStateEvent","dispatchEvent","populateNavLeft","logoOnly","logoLink","user","populateNavRight"],"mappings":"ylBAAA,MAAQ,2BAAR,CACA,MAAQ,kCAAR,CACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,eACAR,QAAQ,CAAC,EAAD,CADR,wCACjBS,IADiB,eACXC,OADW,8BAEMV,QAAQ,CAAC,EAAD,CAFd,yCAEjBW,OAFiB,eAERC,UAFQ,eAIxBX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,MAAM,0FAAG,oLACUX,CAAAA,KAAK,CAACY,IAAN,CAAW,sCAAX,CAAmD,CAAEC,GAAG,CAAEN,IAAP,CAAnD,CADV,wCACLO,IADK,mBACLA,IADK,CAGbJ,UAAU,CAACI,IAAD,CAAV,CAHa,sDAAH,kBAANH,CAAAA,MAAM,0CAAZ,CAMAA,MAAM,GACP,CARQ,CAQN,CAACJ,IAAD,CARM,CAAT,CAUA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BA,KAAK,CAACC,cAAN,GACAC,MAAM,CAACC,OAAP,CAAeC,SAAf,CAAyB,EAAzB,CAA6B,EAA7B,CAAiC,SAAjC,EAEA,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,aAAJ,CAAkB,UAAlB,CAAjB,CACAJ,MAAM,CAACK,aAAP,CAAqBF,QAArB,EACD,CAND,CAQA,GAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACb,MAAD,CAASc,QAAT,CAAsB,CAC5C,GAAMC,CAAAA,QAAQ,CAAGpB,KAAK,CAACqB,IAAN,CAAa,WAAb,CAA2B,GAA5C,CAEA,GAAIF,QAAJ,CAAc,CACZ,mBACE,YAAK,SAAS,CAAC,YAAf,uBACE,KAAC,IAAD,EAAM,SAAS,CAAC,mBAAhB,CAAoC,IAAI,CAAEC,QAA1C,uBACE,YAAK,GAAG,CAAC,iBAAT,CAA2B,KAAK,CAAC,MAAjC,CAAwC,MAAM,CAAC,MAA/C,CAAsD,GAAG,CAAC,EAA1D,EADF,EADF,EADF,CAOD,CACD,GAAI,CAACf,MAAL,CAAY,CACV,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,KAAC,IAAD,EAAM,SAAS,CAAC,mBAAhB,CAAoC,IAAI,CAAC,GAAzC,mBADF,cAEE,KAAC,IAAD,EAAM,SAAS,CAAC,mBAAhB,CAAoC,IAAI,CAAC,GAAzC,sBAFF,GADF,CAMD,CAPD,IAOM,CACJ,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,KAAC,IAAD,EAAM,SAAS,CAAC,mBAAhB,CAAoC,IAAI,CAAEe,QAA1C,uBACE,YAAK,GAAG,CAAC,iBAAT,CAA2B,KAAK,CAAC,MAAjC,CAAwC,MAAM,CAAC,MAA/C,CAAsD,GAAG,CAAC,EAA1D,EADF,EADF,cAIE,cAAM,SAAS,CAAC,oBAAhB,CAAqC,QAAQ,CAAEX,YAA/C,wBACE,KAAC,SAAD,EAAW,KAAK,CAAC,MAAjB,CAAwB,MAAM,CAAE,IAAhC,CAAsC,IAAI,CAAER,IAA5C,CAAkD,YAAY,CAAEC,OAAhE,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACE,KAAC,WAAD,EAAa,OAAO,CAAEC,OAAtB,EADF,EAFF,GAJF,GADF,CAaD,CACF,CAlCD,CAoCA,GAAMmB,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACD,IAAD,CAAOF,QAAP,CAAoB,CAC3C,GAAGA,QAAH,CAAa,CAAE,OAAS,CAExB,GAAI,CAACE,IAAL,CAAU,CACR,mBACE,aAAM,SAAS,CAAC,qBAAhB,uBACE,MAAC,IAAD,EAAM,SAAS,CAAC,yBAAhB,CAA0C,IAAI,CAAC,QAA/C,wBACE,aAAM,SAAS,CAAC,aAAhB,qBADF,cAEE,aAAM,SAAS,CAAC,aAAhB,uBACE,YAAK,KAAK,CAAC,KAAX,CAAiB,MAAM,CAAC,KAAxB,CAA8B,OAAO,CAAC,WAAtC,CAAkD,SAAS,CAAC,mBAA5D,CAAgF,IAAI,CAAC,cAArF,CAAoG,KAAK,CAAC,4BAA1G,uBACE,aAAM,QAAQ,CAAC,SAAf,CAAyB,CAAC,CAAC,4EAA3B,EADF,EADF,EAFF,GADF,EADF,CAYD,CAbD,IAaO,CACL,mBACE,YAAK,SAAS,CAAC,oBAAf,uBACE,KAAC,IAAD,EAAM,SAAS,CAAC,sCAAhB,CAAuD,IAAI,CAAC,OAA5D,UACGA,IADH,EADF,EADF,CAOD,CACF,CAzBD,CA2BA,mBACE,aAAK,SAAS,CAAC,uDAAf,WACGH,eAAe,CAAClB,KAAK,CAACK,MAAP,CAAeL,KAAK,CAACmB,QAArB,CADlB,CAEGG,gBAAgB,CAACtB,KAAK,CAACqB,IAAP,CAAarB,KAAK,CAACmB,QAAnB,CAFnB,GADF,CAMD,CA3FD,CA6FA,cAAepB,CAAAA,MAAf","sourcesContent":["import  '../stylesheets/master.css';\nimport  '../stylesheets/ContainerView.css'\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ResultsPage from '../pages/ResultsPage';\nimport Route from './Route';\nimport SearchBar from './SearchBar';\nimport Link from './Link';\n\nconst Navbar = (props) => {\n  const [term, setTerm] = useState('');\n  const [results, setResults] = useState([]);\n\n  useEffect(() => {\n    const search = async () => {\n      const { data } = await axios.post(\"http://localhost:8080/app/clubsearch\", { key: term });\n\n      setResults(data);\n    }\n\n    search();\n  }, [term]);\n\n  const queryResults = (event) => {\n    event.preventDefault();\n    window.history.pushState({}, '', '/search');\n\n    const navEvent = new PopStateEvent('popstate');\n    window.dispatchEvent(navEvent);\n  };\n\n  const populateNavLeft = (search, logoOnly) => {\n    const logoLink = props.user ? '/userdash' : '/';\n\n    if (logoOnly) {\n      return (\n        <div className=\"navbar-nav\">\n          <Link className=\"navbar-brand ml-2\" href={logoLink}>\n            <img src=\"clubsc_mini.png\" width=\"72px\" height=\"40px\" alt=\"\" />\n          </Link>\n        </div>\n      );\n    }\n    if (!search){\n      return(\n        <div className=\"navbar-nav\">\n          <Link className=\"nav-item nav-link\" href=\"/\">About</Link>\n          <Link className=\"nav-item nav-link\" href=\"/\">Dev Team</Link>\n        </div>\n      );\n    } else{\n      return(\n        <div className=\"navbar-nav\">\n          <Link className=\"navbar-brand ml-2\" href={logoLink}>\n            <img src=\"clubsc_mini.png\" width=\"72px\" height=\"40px\" alt=\"\" />\n          </Link>\n          <form className=\"form-inline d-flex\" onSubmit={queryResults}>\n            <SearchBar width='50vw' button={true} term={term} onTermChange={setTerm}/>\n            <Route path=\"/search\">\n              <ResultsPage results={results}/>\n            </Route>\n          </form>\n        </div>\n      );\n    }\n  };\n\n  const populateNavRight = (user, logoOnly) => {\n    if(logoOnly) { return; }\n\n    if (!user){\n      return(\n        <form className=\"form-inline ml-auto\">\n          <Link className=\"btn btn-outline-primary\" href=\"/login\">\n            <span className=\"hide-mobile\">Sign In</span>\n            <span className=\"show-mobile\">\n              <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-person-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fillRule=\"evenodd\" d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>\n              </svg>\n            </span>\n          </Link>\n        </form>\n      );\n    } else {\n      return (\n        <div className=\"navbar-nav ml-auto\">\n          <Link className=\"nav-item nav-link align-items-center\" href=\"/user\">\n            {user}\n          </Link>\n        </div>\n      );\n    }\n  };\n\n  return (\n    <nav className=\"navbar sticky-top navbar-expand navbar-light bg-light\">\n      {populateNavLeft(props.search, props.logoOnly)}\n      {populateNavRight(props.user, props.logoOnly)}\n    </nav>\n  );\n};\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}